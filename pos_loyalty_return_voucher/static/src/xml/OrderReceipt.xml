<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="pos_coupon.OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('pos-receipt')]//div[hasclass('before-footer')]" position="inside">
            <t t-if="receipt.loyalty_card and receipt.loyalty_card.length !== 0">
                <div style="text-align: center; padding: 1em;">
                    <div class="coupon-container">
                        <t t-if="receipt.loyalty_card.code">
                            <div style="font-size: 110%;">
                                <span>Voucher: </span>
                                <t t-esc="receipt.loyalty_card.code"/>
                            </div>
                            <div>
                                <img t-att-src="'/report/barcode/Code128/'+receipt.loyalty_card.code"
                                     style="width:200px;height:50px" alt="Barcode"/>
                            </div>
                        </t>
                        <t t-if="receipt.loyalty_card.expiration_date">
                            <div style="font-size: 110%;">
                                <span>Valid until: </span>
                                <t t-esc="receipt.loyalty_card.expiration_date" t-options="{'widget': 'date'}"/>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
        </xpath>
    </t>

</templates>
